æ¯ä¸ªæ¡†è¦ä¹ˆåŒ…å«ä¸€ä¸ªåŸå§‹å€¼ï¼Œè¦ä¹ˆæŒ‡å‘ä¸€ä¸ªå¤åˆå€¼ã€‚

```
matrix = [ [1, 2, 0, 4], [0, 1, 3, -1], [0, 0, 1, 8] ]
```

![åµŒå¥—åˆ—è¡¨çš„PythonTutoræˆªå›¾](https://cs61a.org/assets/slides/images/boxandpointer_nestedlist.png)





**åºåˆ—çš„åŠ æ³•ä¸ä¹˜æ³•ï¼š**æ¨¡å—**operator**ä¸­çš„ 

**add å‡½æ•°(+)ï¼š**æ˜¯å°†ä¸¤ä¸ªåºåˆ—(**åŒç±»å‹çš„**)ä¸²è”åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œ

`mul`å‡½æ•°(*)ï¼šæ¥å—ä¸€ä¸ªåºåˆ—å’Œä¸€ä¸ªæ•´æ•° k æ¥è¿”å›ç”±åŸå§‹åºåˆ—çš„ k æ¬¡é‡å¤ç»„æˆçš„åºåˆ—

```python
>>> [2, 7] + digits * 2
[2, 7, 1, 8, 2, 8, 1, 8, 2, 8]
a="ac"
>>>a=a*2+"b" 
acacb
>>>[]+[]
[]
>>> (1,2)*3+(3,4)
(1, 2, 1, 2, 1, 2, 3, 4)
>>>range(0,5)+range(5,7) #error:rangeä¸æ”¯æŒåŠ æ³•å’Œä¹˜æ³•
```



**ç´¢å¼•ï¼š**åœ¨åºåˆ—ä¸­ç´¢å¼•ä¸º-1çš„å…ƒç´ æ˜¯åºåˆ—ä¸­æœ€åä¸€ä¸ªå…ƒç´ 

```python
digits = [1,2,3,5,7,8] 
>>>digits[-1] 
8

>>>range(0, 7)[1]
1

#è‹¥å…ƒç´ æ˜¯åºåˆ—ï¼Œåˆ™å¯å†æ¬¡ç´¢å¼•
```



 **3.è¿ç®—ç¬¦ in å’Œ not in:** æ ¹æ®å…ƒç´ æ˜¯å¦å‡ºç°åœ¨åºåˆ—ä¸­ï¼Œå…¶è®¡ç®—ç»“æœä¸º True æˆ– Falseã€‚

```python
digits=[1, 8, 2, 8]
>>> 2 in digits

>>> 'here' in "Where's here?"
True

>>>3 in range(0,3)
False
```



**is :ä¸è¦ç”¨äºå­—ç¬¦ä¸²å’Œæ•°å€¼**ï¼Œé™¤éä½ æœ‰æ˜ç¡®åœ°ç†ç”±å¦åˆ™åˆ«ç”¨

> 1. åˆ¤æ–­æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
> 2. ä¸ºä¸ä¸ºNone
> 3. æ˜¯ä¸æ˜¯æŸä¸ªç±»çš„å®ä¾‹
> 4. è¿”å›True æˆ– False

```python
>>>list1 is None:#ç”¨å¤„1

>>> list1 is not None

>>> type(list1) is type(list2): #ç”¨å¤„2,ç±»å‹æ¯”è¾ƒ


>>>exp0 is exp1
#å¦‚æœ exp0 å’Œ exp1 éƒ½è®¡ç®—ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è®¡ç®—ç»“æœä¸º True 
#ç›¸åŒçš„å¯¹è±¡æ€»æ˜¯å…·æœ‰ç›¸åŒçš„å€¼
```

**id**ï¼š

```python
list1 = [1,2,3]#åˆ›å»ºä¸€ä¸ªå¯¹è±¡
list2 = [1,2,3]#åˆåˆ›å»ºä¸€ä¸ª
>>>id(list1)
2499849049216
>>>id(list2)
2499849167616

>>>exp0 == exp1 
# å¦‚æœ exp0 å’Œ exp1 è®¡ç®—ä¸ºåŒ…å«ç›¸ç­‰å€¼çš„å¯¹è±¡ï¼Œåˆ™è®¡ç®—ç»“æœä¸º True
```

> åºåˆ—æ˜¯å¯è¿­ä»£çš„



**åºåˆ—ä¹‹é—´çš„è½¬æ¢**

```python
list( (1, 2, 3) ) == [1, 2, 3]
tuple([1, 2, 3]) == (1, 2, 3)
list(range(2, 10, 2)) == [2, 4, 6, 8]
list("ABCD") = ['A', 'B', 'C', 'D']
str(2)="2"
str(list("ABCD"))="ABCD"
>>>str(range(0,7)) #å­—ç¬¦ä¸²å’Œrangeä¸èƒ½ç›´æ¥è½¬æ¢
range(0,7) #å­—ç¬¦ä¸²
```



### å¯å˜çš„é»˜è®¤å‚æ•°ğŸ™€

é»˜è®¤å‚æ•°å€¼æ˜¯å‡½æ•°å€¼çš„ä¸€éƒ¨åˆ†ï¼Œ*ä¸æ˜¯*ç”±è°ƒç”¨ç”Ÿæˆçš„ã€‚

```
 def f(s=[]):
    s.append(3)
    return len(s)

f() # 1 sçš„å€¼ä¸º[3]
f() # 2 sçš„å€¼ä¸º[3,3]
f() # 3 sçš„å€¼ä¸º[3,3,3]
```

æ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œ`s`éƒ½ç»‘å®šåˆ°ç›¸åŒçš„å€¼ã€‚

>å¦‚æœå‡½æ•°çš„é»˜è®¤å€¼æ˜¯å¯å˜ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°ä¸­ä¿®æ”¹é»˜è®¤å€¼ä¼šè¦†ç›–åŸæ¥çš„é»˜è®¤å€¼



###åˆ‡ç‰‡

è¦åˆ›å»ºä¸€ä¸ªåºåˆ—éƒ¨åˆ†æˆ–å…¨éƒ¨çš„å‰¯æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åºåˆ—åˆ‡ç‰‡ã€‚å¯¹åˆ—è¡¨`lst`è¿›è¡Œåˆ‡ç‰‡çš„è¯­æ³•æ˜¯ï¼š `lst[<start index>:<end index>:<step size>]`.

è¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯ä¸€ä¸ªåŒ…å« `lst` å…ƒç´ çš„æ–°åºåˆ—ï¼š

- ä» <start index> å¤„çš„å…ƒç´ å¼€å§‹å¹¶åŒ…æ‹¬è¯¥å…ƒç´ ã€‚
- ä½†ä¸åŒ…æ‹¬ <end index> å¤„çš„å…ƒç´ ã€‚
- ä½¿ç”¨ <step size> ä½œä¸ºè¦åŒ…å«çš„å…ƒç´ çš„ç´¢å¼•ä¹‹é—´çš„å·®å¼‚ã€‚

å¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šå¼€å§‹ã€ç»“æŸæˆ–æ­¥é•¿ï¼ŒPython ä¼šä¸ºå®ƒä»¬æä¾›é»˜è®¤å€¼(åˆ†åˆ«ä¸º0ï¼Œ`len(lst)`,1)ã€‚ è´Ÿæ­¥é•¿è¡¨ç¤ºæˆ‘ä»¬åœ¨åŒ…å«å…ƒç´ æ—¶ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹ä»ååºåˆ—åç«¯å¾€å‰ç«¯è¿›ã€‚

```python
digits[:]==digits
>>>digits[:-1]    #ç­‰ä»·äºdigits[:len(digits)-1]
>>>range(0,3)[0:2]
range(0, 2)


>>> lst[3:]   # End index defaults to len(lst)
[3, 2, 1, 0]
>>> lst[::-1]   # Make a reversed copy of the entire list
[0, 1, 2, 3, 4, 5, 6]
>>> lst[::2]  # Skip every other; step size defaults to 1 otherwise
[6, 4, 2, 0]
```



### åˆ—è¡¨

> `lst1` += [3] å®é™…ä¸Šæ˜¯å¯¹åˆ—è¡¨`lst1`è¿›è¡Œäº†å˜å¼‚
>
> `lst`=``lst`+[3] æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åˆ—è¡¨

```python
list() #åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«æ¥è‡ªä»»ä½•å¯è¿­ä»£å¯¹è±¡çš„ç°æœ‰å…ƒç´ ;

lst1 = [1, 2] #åˆ›å»ºä¸€ä¸ªå¯¹è±¡
lst2 = lst1
lst1 = lst1 + [3]
>>>lst2
[1,2]
>>>lst3
[1,2,3]

lst1 = [1, 2] #åˆ›å»ºä¸€ä¸ªå¯¹è±¡
lst2 = lst1
lst1 += [3] #ç­‰ä»·äº lst.extend([3]) 
>>>lst1 is lst2
True


```

**å†…ç½®å‡½æ•°**ï¼š

append(x) å°†å…ƒç´ xæ·»åŠ åˆ°åˆ—è¡¨å°¾éƒ¨ä¸­,è¿”å›å€¼ä¸ºNone

```python
s = [2, 3]
t = [5, 6]
>>>s.append(4) 
[2, 3, 4]
>>>s.append(t) 
[2, 3, 4, [5, 6]]
```

extend() å°†ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­,è¿”å›å€¼ä¸ºNone

```python
s = [2, 3]
t = [5, 6]
>>>s.extend(4) 
error:4 is not an iterable(è¿­ä»£)
>>>s.extend(t)  
[2, 3, 5, 6]

lst = [1, 2, 3,4,5]
>>>lst.extend([lst.append(9), lst.append(10)])
[1, 2, 3,4,5,9,10,None,None]
```

pop() ç§»é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 

```python
s = [2, 3]
t = [5, 6]
>>>t = s.pop()
3
>>>name1=name.pop(x)#åˆ é™¤å¹¶è¿”å›nameä¸­ç´¢å¼•ä¸ºxçš„å…ƒç´ 

```

remove() åˆ é™¤ä¸å‚æ•°ç›¸ç­‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ 

```python
s = [6, 2, 4, 8, 4]
>>>s.remove(4)
None
>>>s
[6, 2, 8, 4]
```

insert(x,y)æŠŠå…ƒç´ yæ”¾åˆ°æŒ‡å®šç´¢å¼•xçš„ä½ç½®ä¸Šï¼Œå…¶åé¢çš„å…ƒç´ éƒ½åé€€,è¿”å›å€¼ä¸ºNone

```
s=[1,2,3,4,5]
s.insert(3,10)
>>>s
[1,2,3,10,4,5]
```

count(list,x)è®¡ç®—xåœ¨listä¸­å‡ºç°çš„ä¸ªæ•°

```python
count(adviceï¼Œ"exam") == advice.count("exam") 
```



### range

å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼ŒèŒƒå›´ä» 0 å¼€å§‹å¹¶åœ¨å®ƒä¹‹å‰ç»“æŸï¼š

```python
for num in range(6):
    print(num)       # 0, 1, 2, 3, 4, 5
```

å¦‚æœæœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒèŒƒå›´ä»ç¬¬ä¸€ä¸ªå¼€å§‹å¹¶åœ¨ç¬¬äºŒä¸ªä¹‹å‰ç»“æŸï¼š

```python
for num in range(1, 6):
    print(num)       # 1, 2, 3, 4, 5
```



```python
>>>print(range(0,3))
range(0, 3)
```



### å…ƒç»„

 -  ç”¨å°æ‹¬å·å°†æ‰€æœ‰å…ƒç´ æ‹¬èµ·ï¼Œå¯æ‹¬å¯ä¸æ‹¬ 
 -  ç›¸å½“äºå…¶å…ƒç´ ä¸èƒ½ä¿®æ”¹çš„åˆ—è¡¨

```
>>>t=5,7,9==(5,8,7)  
True
>>>print(t1,t)  #printå‡½æ•°æ€»ä¼šæ˜¾ç¤ºç”±æ‹¬å·åŒ…å›´çš„å…ƒç»„
(5,8,7) (5,7,9)
>>>(x,y,z)=(5,6,7)  #åˆ›å»ºä¸‰ä¸ªå˜é‡å¹¶èµ‹å€¼
x=5,y=6,z=7
```





### 2.3.4 Strings

Python ç¨‹åºæ˜¯ä½œä¸ºæ–‡æœ¬ç¼–å†™å’Œå­˜å‚¨çš„ï¼ŒPython æ²¡æœ‰å•ç‹¬çš„å­—ç¬¦ç±»å‹ï¼Œè¡¨ç¤ºå•ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 1ã€‚

````python
str(2)="2"
#è°ƒç”¨æ„é€ å‡½æ•°stråˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡
````





### å­—å…¸

```python
"ZZ" in states #åˆ¤æ–­é”®ZZæ˜¯ä¸æ˜¯å­—å…¸statesçš„é”®
 words["otro"]  #åœ¨å­—å…¸wordsä¸­æ‰¾åˆ°é”®ä¸ºotroçš„é”®å€¼å¯¹çš„å€¼ï¼Œä¸å­˜åœ¨è¯¥é”®çš„è¯æŠ¥é”™KeyError
 words.get("pavo", "ğŸ¤”") #è‹¥pavoä¸æ˜¯wordsçš„é”®å°±è¿”å›ğŸ¤”ï¼Œä¸ç„¶è¿”å›è¯¥é”®å¯¹åº”å¯¹çš„å€¼
```



- å­—å…¸çš„é”®å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹çš„å€¼ï¼Œä½†å€¼æ²¡è¦æ±‚
- ä¸€ä¸ªå­—å…¸ä¸­çš„æ‰€æœ‰é”®éƒ½æ˜¯ä¸åŒçš„

æ·»åŠ é”®å€¼å¯¹(å¦‚æœé”®profpamelaä¸å­˜åœ¨çš„è¯)ï¼š

```python
users["profpamela"] = "b3stp@ssEvErDontHackMe"
```

æ›´æ”¹é”®çš„å€¼ï¼š

```python
users["profpamela"] += "itsLongerSoItsMoreSecure!!"
```

forè¯­å¥

> insectså¯æ˜¯ä»»ä½•å…¶ä»–çš„åºåˆ—

```python
for name in insects: #å¯¹äºå­—å…¸insectsè€Œè¨€ï¼Œè¿­ä»£çš„è·å–è¯¥å­—å…¸çš„é”®èµ‹ç»™name
    #é”®æŒ‰ç…§å®ƒä»¬ç¬¬ä¸€æ¬¡æ·»åŠ çš„é¡ºåºè¿›è¡Œè¿­ä»£ã€‚
    print(insects[name])
```

**åºåˆ—æ‹†åŒ…ï¼š** è¿™ç§å°†å¤šä¸ªåç§°ç»‘å®šåˆ°å›ºå®šé•¿åº¦åºåˆ—ä¸­çš„å¤šä¸ªå€¼çš„æ¨¡å¼ç§°ä¸ºåºåˆ—è§£åŒ…(**ä¸åŒ…æ‹¬å­—ç¬¦ä¸²**)

ç¨‹åºä¸­çš„ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯æœ‰ä¸€ä¸ªå…ƒç´ åºåˆ—ï¼Œè¿™äº›å…ƒç´ æœ¬èº«å°±æ˜¯åºåˆ—ï¼Œä½†éƒ½æ˜¯å›ºå®šé•¿åº¦çš„ã€‚ for è¯­å¥å¯ä»¥åœ¨å…¶æ ‡å¤´ä¸­åŒ…å«å¤šä¸ªåç§°ï¼Œä»¥å°†æ¯ä¸ªå…ƒç´ åºåˆ—â€œè§£åŒ…â€åˆ°å…¶å„è‡ªçš„å…ƒç´ ä¸­

```python
>>>a,b,c=[1,2,3] #1
1 2 3
>>> pairs = [[1, 2], [2, 2], [2, 3], [4, 4]]
>>> same_count = 0
>>> for x, y in pairs:#2
    #å°†pairsä¸­çš„æ¯ä¸ªå…ƒç´ è§£åŒ…æˆä¸¤ä¸ªå…ƒç´ (å› ä¸ºæ˜¯xï¼Œyä¸¤ä¸ªå…ƒç´ )åˆ†åˆ«äºx,yç»‘å®š
        if x == y:
            same_count = same_count + 1
>>> same_count
2
```



å­—å…¸æ¨å¯¼å¼

> ä¸€ä¸ªforè¯­å¥å°±åƒä¸€ä¸ªå¾ªç¯ï¼Œå¯ä»¥æœ‰å¤šä¸ªforè¯­å¥

```python
{x: x*x for x in range(3,6)}

>>> [ (a, b) for a in range(10, 13) for b in range(2) ] 
[(10, 0), (10, 1), (11, 0), (11, 1), (12, 0), (12, 1)]
```



- type(name) #è¿”å›nameçš„ç±»å‹

```python
#nameæ˜¯å­—ç¬¦ä¸²
name.upper()
name.lower()

#namesæ˜¯åˆ—è¡¨
names.index("Spamela")
names.copy()
```







### å¤„ç†å¯è¿­ä»£çš„å‡½æ•°

ä»¥ä¸‹å†…ç½®å‡½æ•°é€‚ç”¨äºåˆ—è¡¨ã€å­—ç¬¦ä¸²ã€å­—å…¸å’Œä»»ä½•å…¶ä»–**å¯è¿­ä»£**çš„æ•°æ®ç±»å‹ã€‚

| åŠŸèƒ½                                                         | æè¿°                                                         |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| `sum(iterable, start)`                                       | è¿”å›å¯è¿­ä»£çš„å€¼çš„æ€»å’Œï¼Œåˆå§‹åŒ–æ€»å’Œä¸ºstart                      |
| [`all(iterable)`](https://docs.python.org/3/library/functions.html#all) | å¦‚æœ`iterable `çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ºçœŸï¼ˆæˆ–è€…å¦‚æœ `iterable `ä¸ºç©ºï¼‰ï¼Œåˆ™è¿”å› True |
| [`any(iterable)`](https://docs.python.org/3/library/functions.html#any) | å¦‚æœ `iterable` çš„ä»»ä½•å…ƒç´ ä¸ºçœŸï¼Œåˆ™è¿”å› Trueã€‚å¦‚æœå¯è¿­ä»£ä¸ºç©ºï¼Œåˆ™è¿”å› Falseã€‚ |
| `max(iterable, key=None)`                                    | è¿”å›`iterable`çš„æœ€å¤§å€¼                                       |
| `min(iterable, key=None)`                                    | è¿”å›`iterable`çš„æœ€å°å€¼                                       |

â€‹               

A key function can decide how to compare each value: #å¯¹äºmax,min

```python
coords = [ [37, -144], [-22, -115], [56, -163] ]
max(coords, key=lambda coord: coord[0])  # [56, -163],coordæ˜¯coordsçš„å…ƒç´ 
min(coords, key=lambda coord: coord[0])  #  [-22, -115]
gymnasts = [ ["Brittany", 9.15, 9.4, 9.3, 9.2],
    ["Lea", 9, 8.8, 9.1, 9.5],
    ["Maya", 9.2, 8.7, 9.2, 8.8] ]
min(gymnasts, key=lambda scores: min(scores[1:]))    # ["Maya", ...]
max(gymnasts, key=lambda scores: sum(scores[1:], 0)) # ["Brittany", ...]
```















